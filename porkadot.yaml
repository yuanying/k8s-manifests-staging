nodes:
  172.18.13.111:
    labels:
      "k8s.unstable.cloud/master":
      "etcd.unstable.cloud/member": node01
    taints:
      "node-role.kubernetes.io/master": ":NoSchedule"
  172.18.13.112:
    labels:
      "k8s.unstable.cloud/master":
      "etcd.unstable.cloud/member": node02
    taints:
      "node-role.kubernetes.io/master": ":NoSchedule"
  172.18.13.113:
    labels:
      "k8s.unstable.cloud/master":
      "etcd.unstable.cloud/member": node03
    taints:
      "node-role.kubernetes.io/master": ":NoSchedule"
  172.18.13.121:
  172.18.13.122:
  172.18.13.123:
  172.18.13.124:
    labels:
      "dedicated": nfs
      "role": backup
      "storage.zfs":
      "tgtd.unstable.cloud/storage": ""
    taints:
      "dedicated": "nfs:NoSchedule"
      "tgtd.unstable.cloud/storage": ":NoSchedule"

bootstrap:
  node:
    hostname: 172.18.13.121

lb:
  metallb:
    config: |
      address-pools:
      - name: default
        protocol: layer2
        addresses:
        - 172.18.13.101/32
        - 172.18.14.140-172.18.14.200

cni:
  flannel:
    backend: host-gw

etcd:
  image_tag: v3.4.3

kubernetes:
  kubernetes_version: v1.17.5
  cluster_name: unstable
  control_plane_endpoint: '172.18.13.101:6443'

  proxy:
    config:
      mode: 'ipvs'
